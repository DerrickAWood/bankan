(function(t){function e(e){for(var s,i,r=e[0],l=e[1],d=e[2],m=0,u=[];m<r.length;m++)i=r[m],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(u.length)u.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),t._v(" "),a("router-view")],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-success"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[t._v("Kanban")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item",class:{active:"home"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[t._v("Home")])],1),t._v(" "),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"boards"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"boards"}}},[t._v("My-Dashboard")])],1):t._e()]),t._v(" "),a("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):a("button",{staticClass:"btn btn-success",on:{click:t.login}},[t._v("Login")])])])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],l=a("bc3a"),d=a.n(l);d.a.create({baseURL:"https://localhost:3000",withCredentials:!0});var c={name:"Navbar",methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"),console.log("this.$auth.user: "),console.log(this.$auth.user)},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}}},m=c,u=a("2877"),p=Object(u["a"])(m,i,r,!1,null,null,null),h=p.exports,v=a("335d"),b={name:"App",async beforeCreate(){try{await Object(v["c"])(),this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile")}catch(t){this.$router.push({name:"home"})}},components:{Navbar:h}},f=b,_=(a("5c0b"),Object(u["a"])(f,o,n,!1,null,null,null)),g=_.exports,k=a("8c4f"),C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("h1",[t._v("This is your home page.")])])}],$={name:"home",data(){return{}},computed:{},methods:{},components:{}},y=$,T=Object(u["a"])(y,C,w,!1,null,"06790556",null),L=T.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"boards"},[a("h1",{staticClass:"bg-primary mb-3"},[t._v("WELCOME TO THE BOARDS!!!")]),t._v(" "),a("create-board"),t._v(" "),t._l(t.boards,(function(e){return a("div",{key:e.id,staticClass:"row mt-2 ml-3"},[a("router-link",{staticClass:"border border-dark m-2",attrs:{to:{name:"board",params:{boardId:e.id}}}},[t._v(t._s(e.title))]),t._v(" "),t.$auth.userInfo.email==e.creatorEmail?a("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(a){t.deleteBoard(e)}}},[t._v("DELETE")]):t._e()],1)}))],2)},B=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{on:{submit:function(e){return e.preventDefault(),t.addBoard(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.title,expression:"newBoard.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newBoard.title},on:{input:function(e){e.target.composing||t.$set(t.newBoard,"title",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.description,expression:"newBoard.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.newBoard.description},on:{input:function(e){e.target.composing||t.$set(t.newBoard,"description",e.target.value)}}}),t._v(" "),a("button",{attrs:{type:"submit"}},[t._v("Create Board")])])])},I=[],E={name:"create-board",data(){return{newBoard:{title:"",description:""}}},methods:{addBoard(){this.$store.dispatch("addBoard",this.newBoard),this.newBoard={title:"",description:""}}}},O=E,j=Object(u["a"])(O,x,I,!1,null,null,null),P=j.exports,M={name:"boards",mounted(){this.$store.dispatch("getBoards")},data(){return{}},computed:{boards(){return this.$store.state.boards}},methods:{deleteBoard(t){this.$store.dispatch("deleteBoard",t.id)}},components:{CreateBoard:P}},A=M,S=Object(u["a"])(A,D,B,!1,null,null,null),U=S.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 bg-info"},[t.board.title?a("h1",[t._v(t._s(t.board.title))]):t._e(),t._v(" "),t.board.description?a("h2",[t._v(t._s(t.board.description))]):a("h1",[t._v("Loading...")])])]),t._v(" "),a("create-List",{staticClass:"mt-3",attrs:{boardData:t.board}}),t._v(" "),a("div",{staticClass:"row"},t._l(t.lists,(function(t){return a("List",{key:t._id,staticClass:"col-3",attrs:{listData:t}})})))],1)},q=[],R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{on:{submit:function(e){return e.preventDefault(),t.addList(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newList.title,expression:"newList.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newList.title},on:{input:function(e){e.target.composing||t.$set(t.newList,"title",e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"}},[t._v("Create List")])])])},z=[],F={name:"create-list",props:["boardData"],data(){return{newList:{title:"",boardId:this.$route.params.boardId}}},methods:{addList(){console.log(this.newList,"this is from addList"),this.$store.dispatch("addList",this.newList),this.newList={title:""}}}},J=F,W=Object(u["a"])(J,R,z,!1,null,null,null),H=W.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card m-2 shadow-lg"},[a("p",[t._v(t._s(t.listData.title))]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-danger m-2",on:{click:function(e){t.deleteList(t.listData)}}},[t._v("DELETE LIST")]),t._v(" "),a("create-task",{attrs:{listData:t.listData}}),t._v(" "),t._l(t.tasks,(function(t){return a("Task",{key:t.id,staticClass:"border m-2",attrs:{taskData:t}})}))],2)])},G=[],Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("p",[t._v(t._s(t.taskData.title))]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-danger m-2",on:{click:function(e){t.deleteTask(t.taskData)}}},[a("small",[t._v("DELETE TASK")])]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-primary m-2",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal-"+t.taskData.id}},[t._v("Move Task")]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"exampleModal-"+t.taskData.id,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Where do you want to move task "+t._s(t.taskData.title)+"?")]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},t._l(t.lists,(function(e){return a("button",{key:e.id,staticClass:"btn btn-sm btn-primary",attrs:{"data-dismiss":"modal",listData:e},on:{click:function(a){a.preventDefault(),t.moveTask(e.id)}}},[t._v(t._s(e.title))])})))])])]),t._v(" "),a("create-comment",{attrs:{taskData:t.taskData}}),t._v(" "),t._l(t.comments,(function(t){return a("comment",{key:t.id,attrs:{commentData:t}})}))],2)},Q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("p",[t._v(t._s(t.commentData.title))]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){t.deleteComment(t.commentData.id)}}},[t._v("Delete")])])},X=[],Y={name:"comment",data(){return{}},mounted(){this.$store.dispatch("getComments",this.$route.params.commentId)},computed:{comment(){return this.$store.state.activeComment}},methods:{async deleteComment(t){await this.$store.dispatch("deleteComment",t),this.$store.dispatch("getComments",this.commentData.taskId)}},props:["commentData"],components:{}},tt=Y,et=Object(u["a"])(tt,V,X,!1,null,"3056bb1c",null),at=et.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-comment"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addComment(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newComment.title,expression:"newComment.title"}],attrs:{type:"text",placeholder:"comments",required:""},domProps:{value:t.newComment.title},on:{input:function(e){e.target.composing||t.$set(t.newComment,"title",e.target.value)}}}),t._v(" "),t._m(0)])])},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-sm btn-primary m-2",attrs:{type:"submit"}},[a("small",[t._v("Create Comment")])])}],nt={name:"create-comment",props:["taskData"],data(){return{newComment:{title:""}}},computed:{},methods:{addComment(){this.newComment.taskId=this.taskData.id,this.$store.dispatch("addComment",this.newComment),this.newComment={title:""}}},components:{}},it=nt,rt=Object(u["a"])(it,st,ot,!1,null,"2619b4fd",null),lt=rt.exports,dt={name:"task",data(){return{}},mounted(){this.$store.dispatch("getComments",this.taskData.id)},computed:{task(){return this.$store.state.activeTask},comments(){return this.$store.state.comments[this.taskData.id]||[]},lists(){return this.$store.state.lists}},props:["taskData","listData"],methods:{moveTask(t){let e={oldListId:this.taskData.listId,oldTaskId:this.taskData._id,listId:t};console.log(e.oldTaskId),this.$store.dispatch("moveTask",e)},deleteTask(t){this.$store.dispatch("deleteTask",t)}},components:{Comment:at,CreateComment:lt,List:wt}},ct=dt,mt=Object(u["a"])(ct,Z,Q,!1,null,"46ec069c",null),ut=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-task"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addTask(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.title,expression:"newTask.title"}],attrs:{type:"text",placeholder:"enter task",required:""},domProps:{value:t.newTask.title},on:{input:function(e){e.target.composing||t.$set(t.newTask,"title",e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-sm btn-info m-2",attrs:{type:"submit"}},[t._v("Create Task")])])])},ht=[],vt={name:"create-task",props:["listData"],data(){return{newTask:{title:""}}},computed:{},methods:{addTask(){this.newTask.listId=this.listData.id,this.$store.dispatch("addTask",this.newTask),this.newTask={title:""}}},components:{}},bt=vt,ft=Object(u["a"])(bt,pt,ht,!1,null,"3a43f280",null),_t=ft.exports,gt={name:"list",data(){return{}},mounted(){this.$store.dispatch("getList",this.$route.params.listId),this.$store.dispatch("getTask",this.listData.id)},computed:{list(){return this.$store.state.activeList},tasks(){return this.$store.state.tasks[this.listData.id]}},props:["listData"],methods:{deleteList(t){this.$store.dispatch("deleteList",t)}},components:{Task:ut,CreateTask:_t}},kt=gt,Ct=Object(u["a"])(kt,K,G,!1,null,null,null),wt=Ct.exports,$t={name:"board",data(){return{}},mounted(){this.$store.dispatch("getBoard",this.$route.params.boardId),this.$store.dispatch("getList",this.$route.params.boardId)},computed:{board(){return this.$store.state.activeBoard},lists(){return this.$store.state.lists}},props:["boardId"],methods:{},components:{List:wt,CreateList:H}},yt=$t,Tt=Object(u["a"])(yt,N,q,!1,null,null,null),Lt=Tt.exports;s["a"].use(k["a"]);var Dt=new k["a"]({routes:[{path:"/",name:"home",component:L},{path:"/boards",name:"boards",component:U,beforeEnter:v["b"]},{path:"/boards/:boardId",name:"board",component:Lt,beforeEnter:v["b"]},{path:"*",redirect:"/"}]}),Bt=a("2f62");s["a"].use(Bt["a"]);let xt=window.location.host.includes("localhost")?"//localhost:3000/":"/",It=d.a.create({baseURL:xt+"api/",timeout:3e3,withCredentials:!0});var Et=new Bt["a"].Store({state:{user:{},boards:[],activeBoard:{},lists:[],activeList:{},tasks:{},activeTask:{},comments:{},activeComment:{}},mutations:{setUser(t,e){t.user=e},setBoards(t,e){t.boards=e},setActiveBoard(t,e){t.activeBoard=e},setLists(t,e){t.lists=e},setActiveList(t,e){t.activeList=e},setTasks(t,e){s["a"].set(t.tasks,e.listId,e.data)},setActiveTask(t,e){t.activeTask=e},setComments(t,e){s["a"].set(t.comments,e.taskId,e.data)},setActiveComment(t,e){t.activeComment=e}},actions:{setBearer({},t){It.defaults.headers.authorization=t},resetBearer(){It.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await It.get("/profile");t("setUser",e.data)}catch(e){console.error(e)}},getBoards({commit:t,dispatch:e}){It.get("boards").then(e=>{t("setBoards",e.data),console.log(e.data)})},addBoard({commit:t,dispatch:e},a){console.log(a),It.post("boards",a).then(t=>{e("getBoards")})},getBoard({commit:t,dispatch:e},a){It.get("boards/"+a).then(e=>{t("setActiveBoard",e.data),console.log(a)})},async deleteBoard({commit:t,dispatch:e},a){await It.delete("boards/"+a);e("getBoards")},getList({commit:t,dispatch:e},a){It.get("boards/"+a+"/list").then(e=>{t("setLists",e.data),console.log(e.data)})},addList({commit:t,dispatch:e},a){console.log(a.boardId,"this from the store"),It.post("list/",a).then(t=>{e("getList",a.boardId)})},async deleteList({commit:t,dispatch:e},a){await It.delete("list/"+a.id);e("getList",a.boardId)},addTask({commit:t,dispatch:e},a){It.post("task",a).then(t=>{e("getTask",a.listId)})},async getTask({commit:t,dispatch:e},a){let s=await It.get("list/"+a+"/task");t("setTasks",{data:s.data,listId:a}),console.log(s.data)},async moveTask({commit:t,dispatch:e},a){await It.put("task/"+a.oldTaskId,a);e("getTask",a.oldListId),e("getTask",a.listId)},async deleteTask({commit:t,dispatch:e},a){await It.delete("task/"+a.id);e("getTask",a.listId)},async addComment({commit:t,dispatch:e},a){await It.post("comment",a);e("getComments",a.taskId)},async getComments({commit:t,dispatch:e},a){let s=await It.get("task/"+a+"/comments");t("setComments",{data:s.data,taskId:a}),console.log(s.data)},async deleteComment({commit:t,dispatch:e},a){await It.delete("comment/"+a)}}});const Ot="dev-4agk-0aw.auth0.com",jt="kanban-project.com",Pt="UyZNU0w23S3aGoCJUpFdPzsBcFP8Db1F";s["a"].use(v["a"],{domain:Ot,clientId:Pt,audience:jt,onRedirectCallback:t=>{Dt.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new s["a"]({router:Dt,store:Et,render:function(t){return t(g)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),o=a.n(s);o.a},"9c0c":function(t,e,a){}});